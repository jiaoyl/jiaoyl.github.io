<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>附近油站</title>
    <link href="css/site.css?11111" rel="stylesheet">
    <script src="js/jquery-2.1.0.js"></script>
		<script type="text/javascript" src = 'http://webapi.amap.com/maps?v=1.4.0&key=ae739a3c0527a170f263090740fd3f92'></script>
		
  </head>
  <body>
  		<div class="wrapper">
  			<div class="header">
  					<h1>附近油站</h1>
  			</div>
  			<div class="main">
						<div id="mapdiv" style="width:100%; height: 100%;"></div>
  			</div>
  		</div>
  		<script type="text/javascript">
  			  $(function(){
  			  	var mapWidth=$(document).width(),
  			  			mapheight=$(document).height()-$('.header').height();
  			  	$('#mapdiv').css({'width':mapWidth,'height':mapheight})
  			  })
  			  
		      var map = new AMap.Map('mapdiv', {
					  resizeEnable: true,
				    zoom:16,
				    center: [113.643439,34.738436]     
		     });
		     var marker = new AMap.Marker({		        
		        position: [113.643439,34.738436],
		        icon: new AMap.Icon({            
		            size: new AMap.Size(40, 50),  //图标大小
		            image: "http://webapi.amap.com/theme/v1.3/images/newpc/way_btn2.png",
		            imageOffset: new AMap.Pixel(0, -60)
		        })    
		    });
		    marker.setMap(map);
		    marker.setLabel({//label默认蓝框白底左上角显示，样式className为：amap-marker-label
		        offset: new AMap.Pixel(20, 20),//修改label相对于maker的位置
		        content: "华城国际"
		    });
				
				 var markers = [{
			        icon: 'http://webapi.amap.com/theme/v1.3/markers/n/mark_b1.png',
			        position: [113.644276,34.740217]
			    }, {
			        icon: 'http://webapi.amap.com/theme/v1.3/markers/n/mark_b2.png',
			        position: [113.643058,34.740283]
			    }, {
			        icon: 'http://webapi.amap.com/theme/v1.3/markers/n/mark_b3.png',
			        position: [113.643745,34.737087]
			    }];
			    // 添加一些分布不均的点到地图上,地图上添加三个点标记，作为参照
			    markers.forEach(function(marker) {
			        new AMap.Marker({
			            map: map,
			            icon: marker.icon,
			            position: [marker.position[0], marker.position[1]],
			            offset: new AMap.Pixel(-12, -36)
			        });
			    });
//		    AMap.service(["AMap.PlaceSearch"], function() {
//		        var placeSearch = new AMap.PlaceSearch({ //构造地点查询类
//		            pageSize: 5,
//		            type: '餐饮服务',
//		            pageIndex: 1,
//		            city: "010", //城市
//		            map: map,
//		            panel: "panel"
//		        });
//		        
//		        var cpoint = [113.643439,34.738436]  ; //中心点坐标
//		        placeSearch.searchNearBy('', cpoint, 200, function(status, result) {
//		
//		        });
//		    });
		</script>
  </body>
</html>