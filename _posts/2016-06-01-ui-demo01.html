---
layout: "post"
title: "jekyll常用变量"
description:
comments: false
category: jekyll
author: jiao
---

<h2>Jekyll 常用变量</h2>

<p>(转载：http://jekyll.bootcss.com )  Jekyll 会遍历你的网站搜寻要处理的文件。任何有 YAML 头信息的文件都是要处理的对象。对于每一个这样的文件，Jekyll都会通过Liquid 模板工具来生成一系列的数据。下面就是这些可用数据变量的参考和文档。</p>
<h3>全局(Global)变量</h3>
<table class="c-table">
	<tr>
		<th>变量</th>
		<th>说明</th>
	</tr>
	<tr>
		<td>site</td>
		<td>来自_config.yml文件，全站范围的信息 +配置。详细的信息请参考下文</td>
	</tr>
	<tr>
		<td>page</td>
		<td>页面专属的信息 + YAML 头文件信息。通过 YAML 头文件自定义的信息都可以在这里被获取。详情请参考下文。</td>
	</tr>
	<tr>
		<td>content</td>
		<td>被 layout 包裹的那些 Post 或者 Page 渲染生成的内容。但是又没定义在 Post 或者 Page 文件中的变量。</td>
	</tr>
	<tr>
		<td>paginator</td>
		<td>每当 paginate 配置选项被设置了的时候，这个变量就可用了。详情请看，分页。</td>
	</tr>
</table>
<h3>全站(site)变量</h3>
<table  class="c-table">
	<tr>
      <th>变量</th>
      <th>说明</th>
    </tr>
	<tr>
		<td>site.time</td>
		<td>当前时间（跑jekyll这个命令的时间点）。</td>
	</tr>
	<tr>
		<td>site.pages</td>
		<td>所有 Pages 的清单。</td>
	</tr>
	<tr>
		<td>site.posts</td>
		<td>一个按照时间倒叙的所有 Posts 的清单。</td>
	</tr>
	<tr>
		<td>site.related_posts</td>
		<td>如果当前被处理的页面是一个 Post，这个变量就会包含最多10个相关的 Post。默认的情况下， 相关性是低质量的，但是能被很快的计算出来。如果你需要高相关性，就要消耗更多的时间来计算。 用jekyll 这个命令带上 --lsi (latent semantic indexing) 选项来计算高相关性的 Post。</td>
	</tr>
	<tr>
		<td>site.categories.CATEGORY</td>
		<td>所有的在 CATEGORY 类别下的帖子</td>
	</tr>
	<tr>
		<td>site.tags.TAG</td>
		<td>所有的在 TAG 标签下的帖子。</td>
	</tr>
	<tr>
		<td>site.[CONFIGURATION_DATA]</td>
		<td>所有的通过命令行和 _config.yml 设置的变量都会存到这个 site 里面。 举例来说，如果你设置了 url: http://mysite.com 在你的配置文件中，那么在你的 Posts 和 Pages 里面，这个变量就被存储在了 site.url。Jekyll 并不会把对 _config.yml 做的改动放到 watch 模式，所以你每次都要重启 Jekyll 来让你的变动生效。</td>
	</tr>
</table>
<h3>页面(page)变量</h3>
<table  class="c-table">
  <thead>
    <tr>
      <th>变量</th>
      <th>说明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><p><code>page.content</code></p></td>
      <td><p>

        页面内容的源码。

      </p></td>
    </tr>
    <tr>
      <td><p><code>page.title</code></p></td>
      <td><p>

        页面的标题。

      </p></td>
    </tr>
    <tr>
      <td><p><code>page.excerpt</code></p></td>
      <td><p>

        页面摘要的源码。

      </p></td>
    </tr>
    <tr>
      <td><p><code>page.url</code></p></td>
      <td><p>

        帖子以斜线打头的相对路径，例子： <code>/2008/12/14/my-post.html</code>。

      </p></td>
    </tr>
    <tr>
      <td><p><code>page.date</code></p></td>
      <td><p>

        帖子的日期。日期的可以在帖子的头信息中通过用以下格式
        <code>YYYY-MM-DD HH:MM:SS</code> (假设是 UTC), 或者
        <code>YYYY-MM-DD HH:MM:SS +/-TTTT</code> ( 用于声明不同于 UTC 的时区，
        比如 <code>2008-12-14 10:30:00 +0900</code>) 来显示声明其他 日期/时间 的方式被改写，

      </p></td>
    </tr>
    <tr>
      <td><p><code>page.id</code></p></td>
      <td><p>

        帖子的唯一标识码（在RSS源里非常有用），比如
        <code>/2008/12/14/my-post</code>

      </p></td>
    </tr>
    <tr>
      <td><p><code>page.categories</code></p></td>
      <td><p>

        这个帖子所属的 Categories。Categories 是从这个帖子的 <code>_posts</code> 以上
        的目录结构中提取的。距离来说, 一个在 <code>/work/code/_posts/2008-12-24-closures.md</code>
        目录下的 Post，这个属性就会被设置成 <code>['work', 'code']</code>。不过 Categories 也能在
        <a>YAML 头文件信息</a> 中被设置。

      </p></td>
    </tr>
    <tr>
      <td><p><code>page.tags</code></p></td>
      <td><p>

        这个 Post 所属的所有 tags。Tags 是在YAML 头文件信息中被定义的。

      </p></td>
    </tr>
    <tr>
      <td><p><code>page.path</code></p></td>
      <td><p>

        Post 或者 Page 的源文件地址。举例来说，一个页面在 GitHub上得源文件地址。
        这可以在 <a>YAML 头文件信息</a> 中被改写。

      </p></td>
    </tr>
  </tbody>
</table>

<h3>分页器(Paginator)</h3>
<table>
  <thead>
    <tr>
      <th>变量</th>
      <th>说明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><p><code>paginator.per_page</code></p></td>
      <td><p>每一页Posts的数量。</p></td>
    </tr>
    <tr>
      <td><p><code>paginator.posts</code></p></td>
      <td><p>这一页可用的Posts。</p></td>
    </tr>
    <tr>
      <td><p><code>paginator.total_posts</code></p></td>
      <td><p>Posts 的总数。</p></td>
    </tr>
    <tr>
      <td><p><code>paginator.total_pages</code></p></td>
      <td><p>Pages 的总数。</p></td>
    </tr>
    <tr>
      <td><p><code>paginator.page</code></p></td>
      <td><p>当前页号。</p></td>
    </tr>
    <tr>
      <td><p><code>paginator.previous_page</code></p></td>
      <td><p>前一页的页号。</p></td>
    </tr>
    <tr>
      <td><p><code>paginator.previous_page_path</code></p></td>
      <td><p>前一页的地址。</p></td>
    </tr>
    <tr>
      <td><p><code>paginator.next_page</code></p></td>
      <td><p>下一页的页号。</p></td>
    </tr>
    <tr>
      <td><p><code>paginator.next_page_path</code></p></td>
      <td><p>下一页的地址。</p></td>
    </tr>
  </tbody>
</table>
<h3>标签</h3>
<h4>引用</h4>

<p>Jekyll 要求所有被引用的文件放在根目录的 _includes 文件夹，上述代码将把 <source>/_includes/footer.html 的内容包含进来。</p>
	
<h3>开启分页功能</h3>
<p>开启分页功能很简单，只需要在 _config.yml里边加一行，并填写每页需要几行：</p>
<div class="highlight">
	<pre>
		<code>paginate: 5</code>
	</pre>
</div>
<p>下边是对需要带有分页页面的配置</p>
{% highlight ruby %}
paginate_path: "blog/page:num"
{% endhighlight %}
<p>blog/index.html将会读取这个设置，把他传给每个分页页面，然后从第 2 页开始输出到 blog/page:num ， :num 是页码。如果有 12 篇文章并且做如下配置 paginate: 5 ， Jekyll会将前 5 篇文章写入 blog/index.html ，把接下来的 5 篇文章写入 blog/page2/index.html，最后 2 篇写入 blog/page3/index.html 
</p>
<h3>与 paginator 相同的属性</h3>
<table>
  <thead>
    <tr>
      <th>属性</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><p><code>page</code></p></td>
      <td><p>当前页码</p></td>
    </tr>
    <tr>
      <td><p><code>per_page</code></p></td>
      <td><p>每页文章数量</p></td>
    </tr>
    <tr>
      <td><p><code>posts</code></p></td>
      <td><p>当前页的文章列表</p></td>
    </tr>
    <tr>
      <td><p><code>total_posts</code></p></td>
      <td><p>总文章数</p></td>
    </tr>
    <tr>
      <td><p><code>total_pages</code></p></td>
      <td><p>总页数</p></td>
    </tr>
    <tr>
      <td><p><code>previous_page</code></p></td>
      <td>
          <p>
              上一页页码 或 <code>nil</code>
          </p>
      </td>
    </tr>
    <tr>
      <td><p><code>previous_page_path</code></p></td>
      <td>
          <p>
              上一页路径 或 <code>nil</code>
          </p>
      </td>
    </tr>
    <tr>
      <td><p><code>next_page</code></p></td>
      <td>
          <p>
              下一页页码 或 <code>nil</code>
          </p>
      </td>
    </tr>
    <tr>
      <td><p><code>next_page_path</code></p></td>
      <td>
          <p>
              下一页路径 或 <code>nil</code>
          </p>
      </td>
    </tr>
  </tbody>
</table>









